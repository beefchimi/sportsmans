%aside#reviews.reviews

	-# if no reviews, output this <p>
	-# %p.no-reviews There are no reviews for this product

	-# otherwise, output everything that follows:

	-# the sportsmans website seems to use partial ratings,
	-# but visually, it only shows full or empty stars (ex. 4.7 = 5 full stars)
	-# do we need to visually account for partial ratings? (1.2, 2.9, 4.6)

	-# if not, the logic here is simple...
	-# round the partial rating and use the integer for 'data-rating' (ex. 4.2 = 4 |or| 4.7 = 5)...
	-# although is does appear that the website rounds up, so a 4.1 rating is shown as 5 stars

	-# otherwise, use the floating point value for 'data-value' (ex. 3.5)
	-# in this example, since 3 is followed by a decimal, we go to the 4th <li> element,
	-# and add the attributes: [ style = "opacity: 1; width: 50%;" ] to the child div.wrap_svg,
	-# changing "50%" to whatever the decimal may be (ex. .2 * 100 = 20)

	%ol.reviews_rating.aggregated{"data-rating" => "3"}
		%li.star-1
			.wrap_svg
				%svg.svg_star-fill
					%use{'xlink:href' => '#star-fill'}
			%svg.svg_star-stroke
				%use{'xlink:href' => '#star-stroke'}
		%li.star-2
			.wrap_svg
				%svg.svg_star-fill
					%use{'xlink:href' => '#star-fill'}
			%svg.svg_star-stroke
				%use{'xlink:href' => '#star-stroke'}
		%li.star-3
			.wrap_svg
				%svg.svg_star-fill
					%use{'xlink:href' => '#star-fill'}
			%svg.svg_star-stroke
				%use{'xlink:href' => '#star-stroke'}
		%li.star-4
			.wrap_svg
				%svg.svg_star-fill
					%use{'xlink:href' => '#star-fill'}
			%svg.svg_star-stroke
				%use{'xlink:href' => '#star-stroke'}
		%li.star-5
			.wrap_svg
				%svg.svg_star-fill
					%use{'xlink:href' => '#star-fill'}
			%svg.svg_star-stroke
				%use{'xlink:href' => '#star-stroke'}

	-# Would it be easier if I wrapped "15" in a tag?
	-# "Review(s)" pluralized when greater than 1
	%a#reviews_link.reviews_link.modal_open{:href => "#reviews_customer"} Read 15 Reviews


	-# if it makes more sense, you can append this markup to the DOM on #reviews_link click
	#reviews_customer.reviews_customer{"data-modal" => "reviews_customer"}

		.wrap_reviews

			.title_row

				%h5 Reviews

				-# exactly the same as the ul.reviews_rating above
				-# this example uses a partial rating of 3.5
				%ol.reviews_rating.aggregated{"data-rating" => "3.5"}
					%li.star-1
						.wrap_svg
							%svg.svg_star-fill
								%use{'xlink:href' => '#star-fill'}
						%svg.svg_star-stroke
							%use{'xlink:href' => '#star-stroke'}
					%li.star-2
						.wrap_svg
							%svg.svg_star-fill
								%use{'xlink:href' => '#star-fill'}
						%svg.svg_star-stroke
							%use{'xlink:href' => '#star-stroke'}
					%li.star-3
						.wrap_svg
							%svg.svg_star-fill
								%use{'xlink:href' => '#star-fill'}
						%svg.svg_star-stroke
							%use{'xlink:href' => '#star-stroke'}
					%li.star-4
						.wrap_svg{:style => "opacity: 1; width: 50%;"}
							%svg.svg_star-fill
								%use{'xlink:href' => '#star-fill'}
						%svg.svg_star-stroke
							%use{'xlink:href' => '#star-stroke'}
					%li.star-5
						.wrap_svg
							%svg.svg_star-fill
								%use{'xlink:href' => '#star-fill'}
						%svg.svg_star-stroke
							%use{'xlink:href' => '#star-stroke'}

				%a#reviews_close.button_close.modal_close{:href => "#"}
					%svg.svg_remove
						%use{"xlink:href" => "#remove"}

			-# we are not paginating reviews. this list will scroll when needed.
			.wrap_scroll-list{"data-maxheight" => "898"}
				%ul#reviews_list.reviews_list

					- (1..5).each do |i|
						%li{:id => "review-#{i}"}

							%h6.truncate Trevor of Alburquerque, NM &ndash; May, 06 2011:
							%p Too big and bulky for the test weight, overwise fantastic. Joy overwhelms me.

							-# 'aggregated' class is replaced with 'individual'
							%ol.reviews_rating.individual{"data-rating" => "2"}
								%li.star-1
									.wrap_svg
										%svg.svg_star-fill
											%use{'xlink:href' => '#star-fill'}
									%svg.svg_star-stroke
										%use{'xlink:href' => '#star-stroke'}
								%li.star-2
									.wrap_svg
										%svg.svg_star-fill
											%use{'xlink:href' => '#star-fill'}
									%svg.svg_star-stroke
										%use{'xlink:href' => '#star-stroke'}
								%li.star-3
									.wrap_svg
										%svg.svg_star-fill
											%use{'xlink:href' => '#star-fill'}
									%svg.svg_star-stroke
										%use{'xlink:href' => '#star-stroke'}
								%li.star-4
									.wrap_svg
										%svg.svg_star-fill
											%use{'xlink:href' => '#star-fill'}
									%svg.svg_star-stroke
										%use{'xlink:href' => '#star-stroke'}
								%li.star-5
									.wrap_svg
										%svg.svg_star-fill
											%use{'xlink:href' => '#star-fill'}
									%svg.svg_star-stroke
										%use{'xlink:href' => '#star-stroke'}